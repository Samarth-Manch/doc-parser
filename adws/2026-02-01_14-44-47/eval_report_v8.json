{
  "evaluation_summary": {
    "overall_score": 0.275,
    "bud_accuracy_score": 0.163,
    "reference_alignment_score": 0.292,
    "schema_validity_score": 0.9,
    "pass": false,
    "pass_threshold": 0.9,
    "iteration": 8
  },
  "rule_type_comparison": {
    "generated": {
      "MAKE_DISABLED": 2,
      "MAKE_VISIBLE": 7,
      "MAKE_INVISIBLE": 7,
      "MAKE_MANDATORY": 4,
      "MAKE_NON_MANDATORY": 4,
      "OCR": 2,
      "VERIFY": 2
    },
    "generated_total": 28,
    "reference": {
      "MAKE_DISABLED": 5,
      "MAKE_INVISIBLE": 19,
      "COPY_TXNID_TO_FORM_FILL": 1,
      "SET_DATE": 1,
      "COPY_TO": 12,
      "CONVERT_TO": 21,
      "COPY_TO_TRANSACTION_ATTR3": 1,
      "DUMMY_ACTION": 1,
      "EXT_VALUE": 13,
      "MAKE_MANDATORY": 12,
      "MAKE_VISIBLE": 18,
      "COPY_TO_TRANSACTION_ATTR1": 1,
      "VALIDATION": 18,
      "CONCAT": 2,
      "EXT_DROP_DOWN": 20,
      "COPY_TO_GENERIC_PARTY_EMAIL": 1,
      "COPY_TO_GENERIC_PARTY_NAME": 1,
      "SEND_OTP": 1,
      "VALIDATE_OTP": 1,
      "OCR": 6,
      "VERIFY": 5,
      "MAKE_NON_MANDATORY": 10,
      "MAKE_ENABLED": 1,
      "COPY_TO_DOCUMENT_STORAGE_ID": 1
    },
    "reference_total": 172,
    "missing_rule_types": [
      "Missing all EXT_DROP_DOWN rules (20 in reference)",
      "Missing all EXT_VALUE rules (13 in reference)",
      "Missing all VALIDATION rules (18 in reference)",
      "Missing all COPY_TO rules (12 in reference)",
      "Missing all CONVERT_TO rules (21 in reference)"
    ]
  },
  "panel_evaluations": [
    {
      "panel_name": "Basic Details",
      "panel_id": null,
      "score": 0.245,
      "rule_counts": {
        "generated": {
          "MAKE_DISABLED": 2,
          "MAKE_VISIBLE": 3,
          "MAKE_INVISIBLE": 3,
          "MAKE_MANDATORY": 2,
          "MAKE_NON_MANDATORY": 2
        },
        "reference": {
          "MAKE_DISABLED": 2,
          "MAKE_INVISIBLE": 3,
          "COPY_TXNID_TO_FORM_FILL": 1,
          "SET_DATE": 1,
          "COPY_TO": 6,
          "CONVERT_TO": 8,
          "COPY_TO_TRANSACTION_ATTR3": 1,
          "DUMMY_ACTION": 1,
          "EXT_VALUE": 5,
          "MAKE_MANDATORY": 2,
          "MAKE_VISIBLE": 2,
          "COPY_TO_TRANSACTION_ATTR1": 1,
          "VALIDATION": 5,
          "CONCAT": 1,
          "EXT_DROP_DOWN": 6,
          "COPY_TO_GENERIC_PARTY_EMAIL": 1,
          "COPY_TO_GENERIC_PARTY_NAME": 1,
          "SEND_OTP": 1,
          "VALIDATE_OTP": 1
        }
      },
      "findings": [
        "Generated 12 rules vs reference 49"
      ],
      "missing_rules": [
        "Missing 1 COPY_TXNID_TO_FORM_FILL rule(s)",
        "Missing 1 SET_DATE rule(s)",
        "Missing 6 COPY_TO rule(s)",
        "Missing 8 CONVERT_TO rule(s)",
        "Missing 1 COPY_TO_TRANSACTION_ATTR3 rule(s)",
        "Missing 1 DUMMY_ACTION rule(s)",
        "Missing 5 EXT_VALUE rule(s)",
        "Missing 1 COPY_TO_TRANSACTION_ATTR1 rule(s)",
        "Missing 5 VALIDATION rule(s)",
        "Missing 1 CONCAT rule(s)",
        "Missing 6 EXT_DROP_DOWN rule(s)",
        "Missing 1 COPY_TO_GENERIC_PARTY_EMAIL rule(s)",
        "Missing 1 COPY_TO_GENERIC_PARTY_NAME rule(s)",
        "Missing 1 SEND_OTP rule(s)",
        "Missing 1 VALIDATE_OTP rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "PAN and GST Details",
      "panel_id": null,
      "score": 0.286,
      "rule_counts": {
        "generated": {
          "OCR": 2,
          "VERIFY": 2,
          "MAKE_VISIBLE": 1,
          "MAKE_INVISIBLE": 1,
          "MAKE_MANDATORY": 1,
          "MAKE_NON_MANDATORY": 1
        },
        "reference": {
          "OCR": 2,
          "CONVERT_TO": 2,
          "VERIFY": 3,
          "MAKE_INVISIBLE": 6,
          "MAKE_VISIBLE": 5,
          "VALIDATION": 3,
          "COPY_TO": 1,
          "EXT_DROP_DOWN": 1,
          "MAKE_MANDATORY": 2,
          "MAKE_NON_MANDATORY": 2,
          "MAKE_DISABLED": 1
        }
      },
      "findings": [
        "Generated 8 rules vs reference 28"
      ],
      "missing_rules": [
        "Missing 2 CONVERT_TO rule(s)",
        "Missing 1 VERIFY rule(s)",
        "Missing 5 MAKE_INVISIBLE rule(s)",
        "Missing 4 MAKE_VISIBLE rule(s)",
        "Missing 3 VALIDATION rule(s)",
        "Missing 1 COPY_TO rule(s)",
        "Missing 1 EXT_DROP_DOWN rule(s)",
        "Missing 1 MAKE_MANDATORY rule(s)",
        "Missing 1 MAKE_NON_MANDATORY rule(s)",
        "Missing 1 MAKE_DISABLED rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "Vendor Basic Details",
      "panel_id": null,
      "score": 0.0,
      "rule_counts": {
        "generated": {},
        "reference": {
          "EXT_DROP_DOWN": 2,
          "MAKE_INVISIBLE": 2,
          "MAKE_MANDATORY": 2,
          "MAKE_NON_MANDATORY": 2,
          "MAKE_VISIBLE": 2,
          "EXT_VALUE": 1
        }
      },
      "findings": [
        "Generated 0 rules vs reference 11"
      ],
      "missing_rules": [
        "Missing 2 EXT_DROP_DOWN rule(s)",
        "Missing 2 MAKE_INVISIBLE rule(s)",
        "Missing 2 MAKE_MANDATORY rule(s)",
        "Missing 2 MAKE_NON_MANDATORY rule(s)",
        "Missing 2 MAKE_VISIBLE rule(s)",
        "Missing 1 EXT_VALUE rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "Address Details",
      "panel_id": null,
      "score": 0.0,
      "rule_counts": {
        "generated": {},
        "reference": {
          "EXT_DROP_DOWN": 1,
          "MAKE_INVISIBLE": 2,
          "MAKE_MANDATORY": 2,
          "MAKE_NON_MANDATORY": 2,
          "MAKE_VISIBLE": 3,
          "OCR": 1,
          "CONCAT": 1,
          "CONVERT_TO": 3,
          "COPY_TO": 4,
          "VALIDATION": 1,
          "EXT_VALUE": 1
        }
      },
      "findings": [
        "Generated 0 rules vs reference 21"
      ],
      "missing_rules": [
        "Missing 1 EXT_DROP_DOWN rule(s)",
        "Missing 2 MAKE_INVISIBLE rule(s)",
        "Missing 2 MAKE_MANDATORY rule(s)",
        "Missing 2 MAKE_NON_MANDATORY rule(s)",
        "Missing 3 MAKE_VISIBLE rule(s)",
        "Missing 1 OCR rule(s)",
        "Missing 1 CONCAT rule(s)",
        "Missing 3 CONVERT_TO rule(s)",
        "Missing 4 COPY_TO rule(s)",
        "Missing 1 VALIDATION rule(s)",
        "Missing 1 EXT_VALUE rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "Bank Details",
      "panel_id": null,
      "score": 0.0,
      "rule_counts": {
        "generated": {},
        "reference": {
          "EXT_VALUE": 2,
          "MAKE_ENABLED": 1,
          "OCR": 1,
          "CONVERT_TO": 6,
          "VALIDATION": 1,
          "VERIFY": 1
        }
      },
      "findings": [
        "Generated 0 rules vs reference 12"
      ],
      "missing_rules": [
        "Missing 2 EXT_VALUE rule(s)",
        "Missing 1 MAKE_ENABLED rule(s)",
        "Missing 1 OCR rule(s)",
        "Missing 6 CONVERT_TO rule(s)",
        "Missing 1 VALIDATION rule(s)",
        "Missing 1 VERIFY rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "CIN and TDS Details",
      "panel_id": null,
      "score": 0.0,
      "rule_counts": {
        "generated": {},
        "reference": {
          "OCR": 1,
          "EXT_DROP_DOWN": 2,
          "MAKE_INVISIBLE": 2,
          "MAKE_MANDATORY": 2,
          "MAKE_NON_MANDATORY": 2,
          "MAKE_VISIBLE": 2,
          "CONVERT_TO": 1
        }
      },
      "findings": [
        "Generated 0 rules vs reference 12"
      ],
      "missing_rules": [
        "Missing 1 OCR rule(s)",
        "Missing 2 EXT_DROP_DOWN rule(s)",
        "Missing 2 MAKE_INVISIBLE rule(s)",
        "Missing 2 MAKE_MANDATORY rule(s)",
        "Missing 2 MAKE_NON_MANDATORY rule(s)",
        "Missing 2 MAKE_VISIBLE rule(s)",
        "Missing 1 CONVERT_TO rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "MSME Details",
      "panel_id": null,
      "score": 0.462,
      "rule_counts": {
        "generated": {
          "MAKE_VISIBLE": 2,
          "MAKE_INVISIBLE": 2,
          "MAKE_MANDATORY": 1,
          "MAKE_NON_MANDATORY": 1
        },
        "reference": {
          "EXT_DROP_DOWN": 1,
          "MAKE_INVISIBLE": 2,
          "MAKE_MANDATORY": 1,
          "MAKE_NON_MANDATORY": 1,
          "MAKE_VISIBLE": 2,
          "VALIDATION": 1,
          "MAKE_DISABLED": 2,
          "OCR": 1,
          "CONVERT_TO": 1,
          "VERIFY": 1
        }
      },
      "findings": [
        "Generated 6 rules vs reference 13"
      ],
      "missing_rules": [
        "Missing 1 EXT_DROP_DOWN rule(s)",
        "Missing 1 VALIDATION rule(s)",
        "Missing 2 MAKE_DISABLED rule(s)",
        "Missing 1 OCR rule(s)",
        "Missing 1 CONVERT_TO rule(s)",
        "Missing 1 VERIFY rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "Vendor Duplicity Details",
      "panel_id": null,
      "score": 1.0,
      "rule_counts": {
        "generated": {},
        "reference": {}
      },
      "findings": [],
      "missing_rules": [],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "Purchase Organization Details",
      "panel_id": null,
      "score": 0.0,
      "rule_counts": {
        "generated": {},
        "reference": {
          "EXT_VALUE": 2,
          "VALIDATION": 5,
          "EXT_DROP_DOWN": 4,
          "COPY_TO": 1,
          "MAKE_INVISIBLE": 1,
          "MAKE_MANDATORY": 1,
          "MAKE_NON_MANDATORY": 1,
          "MAKE_VISIBLE": 1
        }
      },
      "findings": [
        "Generated 0 rules vs reference 16"
      ],
      "missing_rules": [
        "Missing 2 EXT_VALUE rule(s)",
        "Missing 5 VALIDATION rule(s)",
        "Missing 4 EXT_DROP_DOWN rule(s)",
        "Missing 1 COPY_TO rule(s)",
        "Missing 1 MAKE_INVISIBLE rule(s)",
        "Missing 1 MAKE_MANDATORY rule(s)",
        "Missing 1 MAKE_NON_MANDATORY rule(s)",
        "Missing 1 MAKE_VISIBLE rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "Payment Details",
      "panel_id": null,
      "score": 0.4,
      "rule_counts": {
        "generated": {
          "MAKE_VISIBLE": 1,
          "MAKE_INVISIBLE": 1
        },
        "reference": {
          "COPY_TO_DOCUMENT_STORAGE_ID": 1,
          "EXT_DROP_DOWN": 1,
          "VALIDATION": 2,
          "EXT_VALUE": 1
        }
      },
      "findings": [
        "Generated 2 rules vs reference 5"
      ],
      "missing_rules": [
        "Missing 1 COPY_TO_DOCUMENT_STORAGE_ID rule(s)",
        "Missing 1 EXT_DROP_DOWN rule(s)",
        "Missing 2 VALIDATION rule(s)",
        "Missing 1 EXT_VALUE rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    },
    {
      "panel_name": "Withholding Tax Details",
      "panel_id": null,
      "score": 0.0,
      "rule_counts": {
        "generated": {},
        "reference": {
          "EXT_DROP_DOWN": 2,
          "MAKE_INVISIBLE": 1,
          "MAKE_VISIBLE": 1,
          "EXT_VALUE": 1
        }
      },
      "findings": [
        "Generated 0 rules vs reference 5"
      ],
      "missing_rules": [
        "Missing 2 EXT_DROP_DOWN rule(s)",
        "Missing 1 MAKE_INVISIBLE rule(s)",
        "Missing 1 MAKE_VISIBLE rule(s)",
        "Missing 1 EXT_VALUE rule(s)"
      ],
      "extra_rules": [],
      "incorrect_rules": []
    }
  ],
  "critical_checks": {
    "ocr_verify_chains": {
      "passed": true,
      "issues": []
    },
    "ordinal_mapping": {
      "passed": false,
      "issues": [
        "VERIFY rules contain -1 placeholder values in destinationIds indicating unmapped ordinal positions"
      ]
    },
    "visibility_pairs": {
      "passed": true,
      "issues": []
    },
    "field_id_consistency": {
      "passed": true,
      "issues": []
    }
  },
  "bud_analysis": {
    "total_fields_with_logic": 148,
    "fields_with_rules_generated": 12,
    "coverage_ratio": 0.081
  },
  "self_heal_instructions": {
    "priority_fixes": [
      {
        "priority": 1,
        "panel": "Basic Details",
        "field": "Multiple",
        "issue": "Missing EXT_DROP_DOWN rules for external dropdowns (Account Group, Country, Company Code)",
        "fix": "Add EXT_DROP_DOWN rules with proper tableId and column mapping for Account Group/Vendor Type, Country, Company Code fields"
      },
      {
        "priority": 2,
        "panel": "PAN and GST Details",
        "field": "VERIFY rules",
        "issue": "VERIFY rule destinationIds contain -1 placeholder values",
        "fix": "Map all ordinal positions (1st, 2nd, etc.) to actual field IDs. Remove -1 placeholders and ensure all PAN/GST response fields are properly mapped"
      },
      {
        "priority": 3,
        "panel": "All Panels",
        "field": "Multiple",
        "issue": "Missing VALIDATION rules for field format validation",
        "fix": "Add VALIDATION rules for: Mobile Number format, PAN format, GSTIN format, Email format, numeric-only fields"
      },
      {
        "priority": 4,
        "panel": "All Panels",
        "field": "Multiple",
        "issue": "Missing CONVERT_TO rules for uppercase conversion",
        "fix": "Add CONVERT_TO rules with value=UPPER_CASE for fields that require uppercase (PAN, GSTIN, etc.)"
      },
      {
        "priority": 5,
        "panel": "Address Details, Bank Details",
        "field": "Multiple",
        "issue": "Missing OCR rules for additional image fields",
        "fix": "Add OCR rules for: Cancelled Cheque Image, Address Proof Image, CIN Certificate, MSME Image"
      }
    ],
    "iteration_feedback": "Iteration 8 generated 28 rules but reference has 172. Key gaps: missing EXT_DROP_DOWN (20 in ref), VALIDATION (18 in ref), CONVERT_TO (21 in ref), and COPY_TO (12 in ref) rules. OCR\u2192VERIFY chains exist but VERIFY destinationIds have unmapped (-1) positions. Focus next iteration on: 1) External dropdown integration, 2) Field validation rules, 3) Complete ordinal mapping for VERIFY rules."
  }
}