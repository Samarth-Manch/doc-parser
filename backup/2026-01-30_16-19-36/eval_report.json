{
  "evaluation_summary": {
    "generated_output": "/home/samart/project/doc-parser/adws/2026-01-30_16-19-36/populated_schema.json",
    "reference_output": "/home/samart/project/doc-parser/documents/json_output/vendor_creation_sample_bud.json",
    "evaluation_timestamp": "2026-01-30T16:49:28Z",
    "overall_score": 0.0,
    "pass_threshold": 0.9,
    "evaluation_passed": false,
    "critical_finding": "Rule extraction generated ZERO rules"
  },
  "coverage_metrics": {
    "total_fields_in_reference": 266,
    "total_fields_in_generated": 156,
    "matched_fields": 153,
    "field_coverage": 0.575,
    "total_rules_in_reference": 266,
    "total_rules_in_generated": 0,
    "rule_coverage": 0.0
  },
  "accuracy_metrics": {
    "exact_match_rate": 0.0,
    "semantic_match_rate": 0.0,
    "false_positive_rate": 0.0,
    "source_destination_correctness": 0.0,
    "condition_correctness": 0.0,
    "action_type_correctness": 0.0
  },
  "discrepancies": [
    {
      "severity": "critical",
      "category": "no_rules_generated",
      "field_name": "ALL FIELDS",
      "field_id": null,
      "issue": "Rule extraction generated ZERO rules, but reference has 266 rules across 91 fields",
      "reference_rule": null,
      "generated_rule": null,
      "recommendation": "The rule extraction system failed completely. Check if populated_schema.json is the wrong file or if rule extraction step was skipped."
    }
  ],
  "discrepancy_count_by_severity": {
    "critical": 1
  },
  "missing_patterns": [
    {
      "pattern": "ALL rule types",
      "count": 266,
      "affected_fields": [
        "Transaction ID",
        "Created On",
        "Created By Name",
        "Select the process type",
        "Process Type",
        "Account Group/Vendor Type",
        "Group key/Corporate Group"
      ],
      "recommendation": "Rule extraction did not populate formFillRules array - check if extraction step ran"
    }
  ],
  "suggestions_for_improvement": [
    "CRITICAL: Generated output has 0 rules but reference has 266 rules",
    "Only 153/266 fields matched by name",
    "Verify that populated_schema.json is the correct output file",
    "Check if rule extraction orchestrator completed successfully",
    "Review logs for errors during formFillRules population"
  ],
  "self_heal_instructions": {
    "priority_fixes": [
      {
        "fix_type": "verify_output_file",
        "description": "Verify that populated_schema.json contains rule extraction output",
        "implementation": "Check if file path is correct and contains formFillRules arrays"
      },
      {
        "fix_type": "run_rule_extraction",
        "description": "Re-run rule extraction with proper configuration",
        "implementation": "Ensure orchestrator_rule_extraction.py completed all steps including formFillRules population"
      },
      {
        "fix_type": "check_schema_mapping",
        "description": "Verify schema mapping between BUD fields and output format",
        "fields": [
          "Basic Details",
          "Transaction ID",
          "Created On",
          "Created By Name",
          "Name/ First Name of the Organization"
        ],
        "implementation": "Ensure field IDs and names are correctly mapped from BUD to output JSON"
      }
    ],
    "code_changes_needed": [
      "Verify rule_extraction_agent.py is correctly populating formFillRules",
      "Check if schema.json template has formFillRules array defined",
      "Review orchestrator logs for errors or incomplete execution",
      "Validate that all required input files (BUD, schema) are present"
    ]
  }
}