{
  "priority_fixes": [
    {
      "priority": 2,
      "issue": "Incomplete mandatory rule pairs",
      "action": "Add matching MAKE_NON_MANDATORY rules for fields with only MAKE_MANDATORY",
      "fields_affected": 3
    },
    {
      "priority": 3,
      "issue": "OCR rules without VERIFY post-trigger chains",
      "action": "Add postTriggerRuleIds pointing to VERIFY rules for OCR extractions",
      "fields_affected": 2,
      "fields": [
        "Aadhaar Front copy",
        "Aadhaar Back Image"
      ]
    },
    {
      "priority": 4,
      "issue": "73 fields in reference not in generated",
      "action": "Add missing fields and their associated rules",
      "sample_fields": [
        "choose_the_group_of_company",
        "payment_terms_description",
        "currency_code",
        "cheque_import",
        "reconciliation_account_code",
        "vendor_mobile_number_otp",
        "central_enrollment_attachment",
        "e4",
        "reconciliation_account",
        "check_double_invoice"
      ]
    },
    {
      "priority": 5,
      "issue": "Missing EXT_DROP_DOWN rules",
      "action": "Add EXT_DROP_DOWN rules with proper external API configuration",
      "fields": [
        "Withholding Tax Code",
        "Country Code",
        "Please Choose Address Proof"
      ]
    }
  ],
  "iteration_guidance": {
    "focus_areas": [
      "Add missing visibility rule pairs",
      "Complete mandatory rule pairs",
      "Ensure OCR rules chain to VERIFY rules",
      "Add missing external dropdown rules"
    ],
    "next_iteration_target_score": 0.85
  },
  "rule_type_comparison": {
    "generated_totals": {
      "COPY_TXNID_TO_FORM_FILL": 1,
      "SET_DATE": 1,
      "COPY_TO": 11,
      "EXT_DROP_DOWN": 24,
      "EXT_VALUE": 10,
      "VALIDATION": 18,
      "SEND_OTP": 1,
      "VALIDATE_OTP": 1,
      "MAKE_VISIBLE": 13,
      "MAKE_INVISIBLE": 12,
      "MAKE_MANDATORY": 11,
      "CONVERT_TO": 19,
      "COPY_TO_GENERIC_PARTY_EMAIL": 1,
      "COPY_TO_GENERIC_PARTY_NAME": 1,
      "OCR": 7,
      "COPY_TO_DOCUMENT_STORAGE_ID": 16,
      "VERIFY": 6,
      "COPY_TO_TRANSACTION_ATTR1": 1,
      "DUMMY_ACTION": 1,
      "MAKE_NON_MANDATORY": 7,
      "DELETE_DOCUMENT": 12,
      "UNDELETE_DOCUMENT": 14,
      "MAKE_DISABLED": 3,
      "COPY_TO_TRANSACTION_ATTR3": 1,
      "MAKE_ENABLED": 1,
      "CONCAT": 1
    },
    "reference_totals": {
      "MAKE_DISABLED": 5,
      "MAKE_INVISIBLE": 19,
      "COPY_TXNID_TO_FORM_FILL": 1,
      "SET_DATE": 1,
      "COPY_TO": 12,
      "CONVERT_TO": 21,
      "COPY_TO_TRANSACTION_ATTR3": 1,
      "DUMMY_ACTION": 1,
      "EXT_VALUE": 13,
      "MAKE_MANDATORY": 12,
      "MAKE_VISIBLE": 18,
      "COPY_TO_TRANSACTION_ATTR1": 1,
      "VALIDATION": 18,
      "CONCAT": 2,
      "DELETE_DOCUMENT": 15,
      "UNDELETE_DOCUMENT": 17,
      "EXT_DROP_DOWN": 20,
      "COPY_TO_GENERIC_PARTY_EMAIL": 1,
      "COPY_TO_GENERIC_PARTY_NAME": 1,
      "SEND_OTP": 1,
      "VALIDATE_OTP": 1,
      "COPY_TO_DOCUMENT_STORAGE_ID": 18,
      "OCR": 6,
      "VERIFY": 5,
      "MAKE_NON_MANDATORY": 10,
      "MAKE_ENABLED": 1
    },
    "total_generated": 194,
    "total_reference": 221,
    "difference": -27
  },
  "missing_rules": [
    {
      "field": "Is Vendor Your Customer?",
      "action_type": "MAKE_INVISIBLE"
    },
    {
      "field": "Is Vendor Your Customer?",
      "action_type": "MAKE_VISIBLE"
    },
    {
      "field": "Withholding Tax Code",
      "action_type": "EXT_DROP_DOWN"
    },
    {
      "field": "Country Code",
      "action_type": "EXT_DROP_DOWN"
    },
    {
      "field": "Please Choose Address Proof",
      "action_type": "EXT_DROP_DOWN"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "DUMMY_ACTION",
      "note": "field not in generated"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "EXT_VALUE",
      "note": "field not in generated"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "MAKE_INVISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "MAKE_INVISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "MAKE_MANDATORY",
      "note": "field not in generated"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "MAKE_MANDATORY",
      "note": "field not in generated"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "MAKE_VISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "Choose the Group of Company",
      "action_type": "MAKE_VISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "Cheque (Import)",
      "action_type": "COPY_TO_DOCUMENT_STORAGE_ID",
      "note": "field not in generated"
    },
    {
      "field": "Vendor Mobile Number OTP",
      "action_type": "VALIDATE_OTP",
      "note": "field not in generated"
    },
    {
      "field": "E4",
      "action_type": "CONVERT_TO",
      "note": "field not in generated"
    },
    {
      "field": "Reconciliation Account",
      "action_type": "EXT_DROP_DOWN",
      "note": "field not in generated"
    },
    {
      "field": "Reconciliation Account",
      "action_type": "VALIDATION",
      "note": "field not in generated"
    },
    {
      "field": "Central Enrolment number (CEN)",
      "action_type": "CONVERT_TO",
      "note": "field not in generated"
    },
    {
      "field": "Company Country",
      "action_type": "VALIDATION",
      "note": "field not in generated"
    },
    {
      "field": "FDA Registered?",
      "action_type": "EXT_DROP_DOWN",
      "note": "field not in generated"
    },
    {
      "field": "FDA Registered?",
      "action_type": "MAKE_INVISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "FDA Registered?",
      "action_type": "MAKE_MANDATORY",
      "note": "field not in generated"
    },
    {
      "field": "FDA Registered?",
      "action_type": "MAKE_NON_MANDATORY",
      "note": "field not in generated"
    },
    {
      "field": "FDA Registered?",
      "action_type": "MAKE_VISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "Is Withholding Tax applicable?",
      "action_type": "EXT_DROP_DOWN",
      "note": "field not in generated"
    },
    {
      "field": "Is Withholding Tax applicable?",
      "action_type": "MAKE_INVISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "Is Withholding Tax applicable?",
      "action_type": "MAKE_VISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "E6",
      "action_type": "CONVERT_TO",
      "note": "field not in generated"
    },
    {
      "field": "SWIFT Image",
      "action_type": "COPY_TO_DOCUMENT_STORAGE_ID",
      "note": "field not in generated"
    },
    {
      "field": "Type of Industry",
      "action_type": "EXT_DROP_DOWN",
      "note": "field not in generated"
    },
    {
      "field": "IFSC Code / SWIFT Code / Bank Key",
      "action_type": "CONVERT_TO",
      "note": "field not in generated"
    },
    {
      "field": "Region (Import)",
      "action_type": "EXT_VALUE",
      "note": "field not in generated"
    },
    {
      "field": "RuleCheck",
      "action_type": "MAKE_DISABLED",
      "note": "field not in generated"
    },
    {
      "field": "RuleCheck",
      "action_type": "MAKE_INVISIBLE",
      "note": "field not in generated"
    },
    {
      "field": "City (Import)",
      "action_type": "CONVERT_TO",
      "note": "field not in generated"
    },
    {
      "field": "Aadhaar  Front copy",
      "action_type": "COPY_TO_DOCUMENT_STORAGE_ID",
      "note": "field not in generated"
    },
    {
      "field": "Vendor Mobile Number ",
      "action_type": "SEND_OTP",
      "note": "field not in generated"
    },
    {
      "field": "Country Description",
      "action_type": "COPY_TO",
      "note": "field not in generated"
    },
    {
      "field": "Country Description (Domestic)",
      "action_type": "COPY_TO",
      "note": "field not in generated"
    },
    {
      "field": "Account Group Code",
      "action_type": "MAKE_DISABLED",
      "note": "field not in generated"
    },
    {
      "field": "Bank Branch (Import)",
      "action_type": "CONVERT_TO",
      "note": "field not in generated"
    },
    {
      "field": "Created By Name",
      "action_type": "COPY_TO",
      "note": "field not in generated"
    },
    {
      "field": "Vendor Country",
      "action_type": "EXT_VALUE",
      "note": "field not in generated"
    },
    {
      "field": "Vendor Country",
      "action_type": "VALIDATION",
      "note": "field not in generated"
    },
    {
      "field": "Bank Statement/Confirmation/Passbook Image",
      "action_type": "COPY_TO_DOCUMENT_STORAGE_ID",
      "note": "field not in generated"
    },
    {
      "field": "E5",
      "action_type": "CONVERT_TO",
      "note": "field not in generated"
    },
    {
      "field": "Process Flow Condition",
      "action_type": "CONCAT",
      "note": "field not in generated"
    },
    {
      "field": "Process Flow Condition",
      "action_type": "DELETE_DOCUMENT",
      "note": "field not in generated"
    },
    {
      "field": "Process Flow Condition",
      "action_type": "DELETE_DOCUMENT",
      "note": "field not in generated"
    }
  ],
  "critical_checks": {
    "ocr_analysis": {
      "generated_count": 7,
      "reference_count": 6,
      "generated_with_post_trigger": 5,
      "reference_with_post_trigger": 4,
      "details": {
        "generated": [
          {
            "field": "Upload PAN",
            "has_post_trigger": true,
            "destination_count": 1
          },
          {
            "field": "GSTIN IMAGE",
            "has_post_trigger": true,
            "destination_count": 1
          },
          {
            "field": "Aadhaar Front copy",
            "has_post_trigger": false,
            "destination_count": 0
          },
          {
            "field": "Aadhaar Back Image",
            "has_post_trigger": false,
            "destination_count": 0
          },
          {
            "field": "Cancelled Cheque Image",
            "has_post_trigger": true,
            "destination_count": 1
          },
          {
            "field": "CIN Certificate",
            "has_post_trigger": true,
            "destination_count": 1
          },
          {
            "field": "MSME Image",
            "has_post_trigger": true,
            "destination_count": 1
          }
        ],
        "reference": [
          {
            "field": "Upload PAN",
            "has_post_trigger": true,
            "destination_count": 1
          },
          {
            "field": "GSTIN IMAGE",
            "has_post_trigger": true,
            "destination_count": 1
          },
          {
            "field": "Aaadhar Back Image",
            "has_post_trigger": false,
            "destination_count": 8
          },
          {
            "field": "Cancelled Cheque Image",
            "has_post_trigger": true,
            "destination_count": 4
          },
          {
            "field": "CIN Certificate",
            "has_post_trigger": false,
            "destination_count": 1
          },
          {
            "field": "MSME Image",
            "has_post_trigger": true,
            "destination_count": 3
          }
        ]
      }
    },
    "verify_analysis": {
      "generated_count": 6,
      "reference_count": 5,
      "details": {
        "generated": [
          {
            "field": "PAN",
            "destination_count": 10,
            "has_ordinal": false
          },
          {
            "field": "PAN",
            "destination_count": 0,
            "has_ordinal": false
          },
          {
            "field": "GSTIN",
            "destination_count": 21,
            "has_ordinal": false
          },
          {
            "field": "Bank Account Number",
            "destination_count": 4,
            "has_ordinal": false
          },
          {
            "field": "CIN",
            "destination_count": 14,
            "has_ordinal": false
          },
          {
            "field": "MSME Registration Number",
            "destination_count": 21,
            "has_ordinal": false
          }
        ],
        "reference": [
          {
            "field": "PAN",
            "destination_count": 9,
            "has_ordinal": false
          },
          {
            "field": "GSTIN",
            "destination_count": 11,
            "has_ordinal": false
          },
          {
            "field": "GSTIN",
            "destination_count": 0,
            "has_ordinal": false
          },
          {
            "field": "Bank Account Number",
            "destination_count": 1,
            "has_ordinal": false
          },
          {
            "field": "MSME Registration Number",
            "destination_count": 39,
            "has_ordinal": false
          }
        ]
      }
    },
    "visibility_pairs": {
      "generated": {
        "complete_pairs": 9,
        "incomplete": 0
      },
      "reference": {
        "complete_pairs": 11,
        "incomplete": 1
      }
    },
    "mandatory_pairs": {
      "generated": {
        "complete_pairs": 6,
        "incomplete": 3
      },
      "reference": {
        "complete_pairs": 8,
        "incomplete": 1
      }
    },
    "disabled_rules": {
      "generated_count": 3,
      "reference_count": 5
    }
  },
  "panel_evaluation": [],
  "bud_logic_verification": {},
  "false_positives": [],
  "evaluation_summary": {},
  "api_errors": [
    {
      "source": "api",
      "error_type": "unknown_error",
      "status_code": 400,
      "message": "{'raw_response': ''}",
      "instruction": "Fix the schema/rules based on this API error"
    }
  ]
}